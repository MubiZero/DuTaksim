# DuTaksim - –£–º–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ —Å—á–µ—Ç–æ–≤

**DuTaksim** (–¥—É —Ç–∞–∫—Å–∏–º - "–¥–µ–ª–∏—Ç—å –ø–æ–ø–æ–ª–∞–º" –Ω–∞ —Ç–∞–¥–∂–∏–∫—Å–∫–æ–º) - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –¥–µ–ª–µ–Ω–∏—è —Å—á–µ—Ç–æ–≤ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞—Ö –∏ –∫–∞—Ñ–µ.

> –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –∫–æ–Ω–∫—É—Ä—Å–∞ –ò–ò –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ë–∞–Ω–∫ –≠—Å—Ö–∞—Ç–∞

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üè† –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- GPS-–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ (—Ä–∞–¥–∏—É—Å 50–º) –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- Live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è - –≤—Å–µ –≤–∏–¥—è—Ç —á—Ç–æ –¥–æ–±–∞–≤–ª—è—é—Ç –¥—Ä—É–≥–∏–µ
- –ö–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏ –ø–æ–∑–∏—Ü–∏–∏ —Å–∞–º

### üì± –£–º–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞)
- –û–±—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ (–¥–µ–ª—è—Ç—Å—è –ø–æ—Ä–æ–≤–Ω—É)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É—á—ë—Ç —á–∞–µ–≤—ã—Ö
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–æ–ª–≥–æ–≤ (–º–∏–Ω–∏–º—É–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)

### üì∏ –£–¥–æ–±–Ω—ã–π –≤–≤–æ–¥
- OCR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ–∫–æ–≤ (Google ML Kit)
- –†—É—á–Ω–æ–π –≤–≤–æ–¥ –ø–æ–∑–∏—Ü–∏–π
- –í—ã–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- QR-–∫–æ–¥ –¥–ª—è –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ –ë–∞–Ω–∫ –≠—Å—Ö–∞—Ç–∞

### üìä –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –í—Å–µ —Å—á–µ—Ç–∞ –∏ –¥–æ–ª–≥–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –ö–æ–º—É –¥–æ–ª–∂–Ω—ã –≤—ã
- –ö—Ç–æ –¥–æ–ª–∂–µ–Ω –≤–∞–º
- –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ —Å—á–µ—Ç–∞

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Flutter SDK 3.35.3+
- Node.js 18+
- PostgreSQL 14+

### Backend Setup

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
cd dutaksim_backend
npm install
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env:**
```env
DB_HOST=your_database_host
DB_PORT=5432
DB_NAME=dutaksim
DB_USER=postgres
DB_PASSWORD=your_password
PORT=3000
```

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –ü–µ—Ä–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
npm run setup

# –ò–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î
npm run migrate
```

4. **–ó–∞–ø—É—Å–∫:**
```bash
npm start
# Backend running on http://localhost:3000
```

### Flutter App Setup

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
cd dutaksim_app
flutter pub get
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ constants.dart:**
```dart
// lib/config/constants.dart
static const String baseUrl = 'http://your_server_ip:3000/api';
```

3. **–ó–∞–ø—É—Å–∫:**
```bash
# Android/iOS
flutter run

# Web
flutter run -d chrome
```

---

## üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **Flutter** - –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (iOS, Android, Web)
- **Riverpod** - state management
- **go_router** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- **Google ML Kit** - OCR
- **mobile_scanner** - QR-—Å–∫–∞–Ω–µ—Ä
- **geolocator** - GPS
- **contacts_service** - –∫–æ–Ω—Ç–∞–∫—Ç—ã

### Backend
- **Node.js + Express** - REST API
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **dotenv** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
EasyDinner/
‚îú‚îÄ‚îÄ dutaksim_app/           # Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/         # –¢–µ–º–∞ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/         # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/      # State management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ screens/        # UI —ç–∫—Ä–∞–Ω—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ pubspec.yaml
‚îÇ
‚îú‚îÄ‚îÄ dutaksim_backend/       # Node.js Backend
‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.js        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bills.js        # –°—á–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sessions.js     # –°–µ—Å—Å–∏–∏ (NEW!)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ contacts.js     # –ö–æ–Ω—Ç–∞–∫—Ç—ã (NEW!)
‚îÇ   ‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ migrations/         # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ server.js
‚îÇ
‚îú‚îÄ‚îÄ README.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ ARCHITECTURE.md         # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
```

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–±–µ–¥ —Å –∫–æ–ª–ª–µ–≥–∞–º–∏

1. –û–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ —Å–æ–∑–¥–∞–µ—Ç "–∫–æ–º–Ω–∞—Ç—É" ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç QR
2. –ö–æ–ª–ª–µ–≥–∏ —Å–∫–∞–Ω–∏—Ä—É—é—Ç QR –∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ GPS
3. –ö–∞–∂–¥—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç —á—Ç–æ –∑–∞–∫–∞–∑–∞–ª
4. –°–æ–∑–¥–∞—Ç–µ–ª—å –∂–º–µ—Ç "–§–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å" ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –¥–æ–ª–≥–∏
5. –í—Å–µ –≤–∏–¥—è—Ç —Å–∫–æ–ª—å–∫–æ –∫–æ–º—É –¥–æ–ª–∂–Ω—ã
6. –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ QR-–∫–æ–¥ –ë–∞–Ω–∫ –≠—Å—Ö–∞—Ç–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—ã—Å—Ç—Ä–æ–µ –¥–µ–ª–µ–Ω–∏–µ –≤–¥–≤–æ–µ–º

1. –°–æ–∑–¥–∞—Ç—å –æ–±—ã—á–Ω—ã–π —Å—á–µ—Ç
2. –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞ –ø–æ –Ω–æ–º–µ—Ä—É
3. –£–∫–∞–∑–∞—Ç—å –∫—Ç–æ —á—Ç–æ –±—Ä–∞–ª
4. –ß–∞–µ–≤—ã–µ –¥–µ–ª—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. –ì–æ—Ç–æ–≤–æ!

---

## üîê –†–∞–∑—Ä–µ—à–µ–Ω–∏—è (Android/iOS)

### Android (AndroidManifest.xml)
```xml
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.CAMERA"/>
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.READ_CONTACTS"/>
```

### iOS (Info.plist)
```xml
<key>NSCameraUsageDescription</key>
<string>–î–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–æ–≤ –∏ —á–µ–∫–æ–≤</string>
<key>NSLocationWhenInUseUsageDescription</key>
<string>–î–ª—è –ø–æ–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏</string>
<key>NSContactsUsageDescription</key>
<string>–î–ª—è –≤—ã–±–æ—Ä–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤</string>
```

---

## üîß API Endpoints

### Users
- `POST /api/users/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `GET /api/users/phone/:phone` - –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- `GET /api/users/:id/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### Bills
- `POST /api/bills` - –°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç
- `GET /api/bills/user/:userId` - –°—á–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/bills/:id` - –î–µ—Ç–∞–ª–∏ —Å—á–µ—Ç–∞
- `PATCH /api/bills/debts/:debtId/pay` - –û—Ç–º–µ—Ç–∏—Ç—å –æ–ø–ª–∞—Ç—É

### Sessions (Collaborative)
- `POST /api/sessions/create` - –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é
- `GET /api/sessions/nearby` - –ù–∞–π—Ç–∏ –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏
- `POST /api/sessions/join` - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
- `GET /api/sessions/:id` - –î–µ—Ç–∞–ª–∏ —Å–µ—Å—Å–∏–∏
- `POST /api/sessions/:id/items` - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
- `POST /api/sessions/:id/finalize` - –°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç

### Contacts
- `POST /api/contacts/lookup` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã
- `POST /api/contacts/sessions/:id/add-participants` - –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

---

## üé® –î–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (–ë–∞–Ω–∫ –≠—Å—Ö–∞—Ç–∞)
- **Primary:** `rgb(0, 80, 200)` - –°–∏–Ω–∏–π
- **Secondary:** `rgb(145, 190, 235)` - –°–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–π
- **Accent:** `rgb(255, 205, 170)` - –ü–µ—Ä—Å–∏–∫–æ–≤—ã–π
- **Background:** `rgb(255, 255, 255)` - –ë–µ–ª—ã–π

### –®—Ä–∏—Ñ—Ç
- **Google Fonts Inter** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, —á–∏—Ç–∞–µ–º—ã–π

---

## üêõ Troubleshooting

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PostgreSQL
sudo systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
psql -U postgres -d dutaksim
```

### Flutter –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à
flutter clean
flutter pub get

# –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
flutter pub upgrade
```

### –ù–µ—Ç GPS –∏–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ù–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ mock location
- –î–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [ARCHITECTURE.md](./ARCHITECTURE.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã.

---

## üë• –ö–æ–º–∞–Ω–¥–∞

**DuTaksim Team** - –¥–ª—è –∫–æ–Ω–∫—É—Ä—Å–∞ –ë–∞–Ω–∫ –≠—Å—Ö–∞—Ç–∞ 2025

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –∫–æ–Ω–∫—É—Ä—Å–∞ –ë–∞–Ω–∫ –≠—Å—Ö–∞—Ç–∞

---

**–í–µ—Ä—Å–∏—è:** 2.0.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –û–∫—Ç—è–±—Ä—å 2025
